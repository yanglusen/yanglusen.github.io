<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Angularä¸­çš„ä¾èµ–æ³¨å…¥</title>
    <link href="/2022/07/20/Angular%E4%B8%AD%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/"/>
    <url>/2022/07/20/Angular%E4%B8%AD%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç›¸ä¿¡angularä¸­çš„ã€Œä¾èµ–æ³¨å…¥ã€å¯¹äºå¤§éƒ¨åˆ†çš„angularå¼€å‘è€…éƒ½æ˜¯ä¸€ä¸ªä¸å®¹æ˜“è·¨è¿‡å»çš„åï¼Œå½“ç„¶æˆ‘ä¹Ÿä¸ä¾‹å¤–ï¼Œè¿™ç¯‡æ–‡ç« æ„æ€äº†å¾ˆä¹…ï¼Œå¤§æ¦‚ä»ä¸€å¹´å‰å°±æƒ³å¯¹æ­¤æ¥ä¸ªæ€»ç»“ï¼Œå¥ˆä½•ä¸çŸ¥é“ä»ä½•å†™èµ·ï¼Œä¸»è¦åŸå› æ˜¯åœ¨å¹³å¸¸çš„å®é™…å¼€å‘ä¸­ç”¨åˆ°çš„ä¾èµ–æ³¨å…¥çš„çŸ¥è¯†å¤ªæµ…ï¼Œæ‰€ä»¥å¹¶ä¸èƒ½å¾ˆå¥½çš„è¯»æ‡‚æ–‡æ¡£çš„æ„æ€ï¼Œå¦‚ä»Šæœ‰æœºä¼šåœ¨å®é™…çš„é¡¹ç›®ä¸­æ¥è§¦åˆ°äº†æ›´å¤šä¾èµ–æ³¨å…¥çš„ç”¨æ³•ï¼Œæ•…æ­¤æ€»ç»“ä¸€ä¸‹ã€‚æœ¬æ–‡å†…å®¹å¤§éƒ¨åˆ†æ¥æºäºå®˜æ–¹æ–‡æ¡£ï¼Œå› ä¸ºæ–‡æ¡£ä¸­çš„çŸ¥è¯†ç‚¹è¿‡äºé›¶æ•£ï¼Œä¸œä¸€é”¤å­è¥¿ä¸€æ£’å­çš„ï¼Œæ‘¸ä¸ç€å¤´è„‘ï¼Œæ‰€ä»¥æˆ‘æŒ‰ç…§è‡ªå·±çš„ç†è§£ï¼ŒåŠ ä¸Šå®é™…çš„demoæ¥æ¢³ç†ä¸€ä¸‹å…¶ä¸­çš„çŸ¥è¯†ç‚¹ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯ã€Œä¾èµ–æ³¨å…¥ï¼ˆdependency-injectionï¼‰ã€ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ã€Œä¾èµ–æ³¨å…¥ï¼ˆdependency-injectionï¼‰ã€ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ã€Œä¾èµ–æ³¨å…¥ï¼ˆdependency injectionï¼‰ã€ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ã€Œä¾èµ–æ³¨å…¥ï¼ˆdependency injectionï¼‰ã€ï¼Ÿ</h2><blockquote><p>ä¾èµ–æ³¨å…¥æ—¢æ˜¯è®¾è®¡æ¨¡å¼ï¼ŒåŒæ—¶åˆæ˜¯ä¸€ç§æœºåˆ¶ï¼šå½“åº”ç”¨ç¨‹åºçš„ä¸€äº›éƒ¨ä»¶ï¼ˆå³ä¸€äº›ä¾èµ–ï¼‰éœ€è¦å¦ä¸€äº›éƒ¨ä»¶æ—¶ï¼Œ åˆ©ç”¨ä¾èµ–æ³¨å…¥æ¥åˆ›å»ºè¢«è¯·æ±‚çš„éƒ¨ä»¶ï¼Œå¹¶å°†å®ƒä»¬æ³¨å…¥åˆ°éœ€è¦å®ƒä»¬çš„éƒ¨ä»¶ä¸­ã€‚<br>åœ¨ Angular ä¸­ï¼Œä¾èµ–é€šå¸¸æ˜¯æœåŠ¡ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æ˜¯å€¼ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²æˆ–å‡½æ•°ã€‚åº”ç”¨çš„æ³¨å…¥å™¨ï¼ˆå®ƒæ˜¯åœ¨å¯åŠ¨æœŸé—´è‡ªåŠ¨åˆ›å»ºçš„ï¼‰ä¼šä½¿ç”¨è¯¥æœåŠ¡æˆ–å€¼çš„é…ç½®å¥½çš„æä¾›è€…æ¥æŒ‰éœ€å®ä¾‹åŒ–è¿™äº›ä¾èµ–ã€‚å„ä¸ªä¸åŒçš„æä¾›è€…å¯ä»¥ä¸ºåŒä¸€ä¸ªæœåŠ¡æä¾›ä¸åŒçš„å®ç°ã€‚</p></blockquote><p>ä¸Šé¢è¿™æ®µè¯ç”¨æˆ‘è‡ªå·±çš„ç†è§£ï¼Œé€šä¿—çš„æ¥è®²å°±æ˜¯ï¼Œä¹‹å‰æˆ‘ä»¬å¦‚æœæƒ³è¦å®ä¾‹åŒ–ç±»ï¼ˆclassï¼‰çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå°±è¦ç”¨ã€Œnewã€è¿ç®—ç¬¦æ¥å®ç°ï¼Œç°åœ¨æœ‰äº†ä¾èµ–æ³¨å…¥è¿™ä¸ªä¸œè¥¿ä»¥åå°±ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±äº²è‡ªåŠ¨æ‰‹å»newä¸€ä¸ªå¯¹è±¡äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ç”¨åˆ°çš„åœ°æ–¹ä½¿ç”¨angularçš„ã€Œä¾èµ–æ³¨å…¥ã€çš„è¯­æ³•ï¼Œå°±å¯ä»¥æ‹¿åˆ°æˆ‘ä»¬æƒ³è¦çš„å¯¹è±¡äº†ï¼Œè€Œå¸®åŠ©æˆ‘ä»¬åˆ›å»ºå¯¹è±¡çš„è¿™ä¸ªä¸œè¥¿å«åšã€Œæ³¨å…¥å™¨ã€ï¼Œæ³¨å…¥å™¨è¿™ä¸ªä¸œè¥¿ï¼Œå¾ˆæŠ½è±¡ï¼Œæˆ‘ä»¬çœ‹ä¸è§æ‘¸ä¸ç€ï¼Œè¿™æ˜¯angularåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºçš„ã€‚</p><p>å…ˆæŠŠå‡ ä¸ªåè¯ææ¸…æ¥šï¼Œã€ŒæœåŠ¡ã€ã€ã€Œæ³¨å…¥å™¨ã€ã€ã€ŒDIä»¤ç‰Œã€ã€ã€Œæä¾›è€…ã€ã€‚</p><h2 id="æœåŠ¡"><a href="#æœåŠ¡" class="headerlink" title="æœåŠ¡"></a>æœåŠ¡</h2><p>åœ¨ Angular ä¸­ï¼ŒæœåŠ¡å°±æ˜¯ä¸€ä¸ªå¸¦æœ‰ @Injectable è£…é¥°å™¨çš„ç±»ï¼Œå®ƒå°è£…äº†å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­å¤ç”¨çš„é UI é€»è¾‘å’Œä»£ç ã€‚ Angular æŠŠç»„ä»¶å’ŒæœåŠ¡åˆ†å¼€ï¼Œæ˜¯ä¸ºäº†å¢è¿›æ¨¡å—åŒ–ç¨‹åº¦å’Œå¯å¤ç”¨æ€§ã€‚</p><p>@Injectable å…ƒæ•°æ®è®©æœåŠ¡ç±»èƒ½ç”¨äºä¾èµ–æ³¨å…¥æœºåˆ¶ä¸­ã€‚å¯æ³¨å…¥çš„ç±»æ˜¯ç”¨æä¾›è€…è¿›è¡Œå®ä¾‹åŒ–çš„ã€‚ å„ä¸ªæ³¨å…¥å™¨ä¼šç»´æŠ¤ä¸€ä¸ªæä¾›è€…çš„åˆ—è¡¨ï¼Œå¹¶æ ¹æ®ç»„ä»¶æˆ–å…¶å®ƒæœåŠ¡çš„éœ€è¦ï¼Œç”¨å®ƒä»¬æ¥æä¾›æœåŠ¡çš„å®ä¾‹ã€‚</p><h2 id="DIä»¤ç‰Œ"><a href="#DIä»¤ç‰Œ" class="headerlink" title="DIä»¤ç‰Œ"></a>DIä»¤ç‰Œ</h2><p>ä¸€ç§ç”¨æ¥æŸ¥é˜…çš„ä»¤ç‰Œï¼Œå®ƒå…³è”åˆ°ä¸€ä¸ªä¾èµ–æä¾›è€…ï¼Œç”¨äºä¾èµ–æ³¨å…¥ç³»ç»Ÿä¸­ï¼ŒDIä»¤ç‰Œå’Œæ³¨å…¥çš„ä¾èµ–é¡¹ç›¸æ˜ å°„ï¼Œå¯ä»¥æŠŠDIä»¤ç‰Œä½œä¸ºkeyæ¥æ‰¾åˆ°ä¾èµ–é¡¹ã€‚</p><p>ä»¤ç‰Œé€šå¸¸æ˜¯ Type æˆ– InjectionToken çš„å®ä¾‹ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯ any å®ä¾‹ã€‚</p><h2 id="æä¾›è€…"><a href="#æä¾›è€…" class="headerlink" title="æä¾›è€…"></a>æä¾›è€…</h2><p>ä¸€ä¸ªå®ç°äº† Provider æ¥å£çš„å¯¹è±¡ã€‚ä¸€ä¸ªæä¾›è€…å¯¹è±¡å®šä¹‰äº†å¦‚ä½•è·å–ä¸ DI ä»¤ç‰Œï¼ˆtokenï¼‰ ç›¸å…³è”çš„å¯æ³¨å…¥ä¾èµ–ã€‚ æ³¨å…¥å™¨ä¼šä½¿ç”¨è¿™ä¸ªæä¾›è€…æ¥åˆ›å»ºå®ƒæ‰€ä¾èµ–çš„é‚£äº›ç±»çš„å®ä¾‹ã€‚</p><p>Angular ä¼šä¸ºæ¯ä¸ªæ³¨å…¥å™¨æ³¨å†Œä¸€äº› Angular è‡ªå·±çš„æœåŠ¡ã€‚ä½ ä¹Ÿå¯ä»¥æ³¨å†Œåº”ç”¨è‡ªå·±æ‰€éœ€çš„æœåŠ¡æä¾›è€…ã€‚</p><p>ä¾èµ–æä¾›è€…ä¼šä½¿ç”¨ DI ä»¤ç‰Œæ¥é…ç½®æ³¨å…¥å™¨ï¼Œæ³¨å…¥å™¨ä¼šç”¨å®ƒæ¥æä¾›è¿™ä¸ªä¾èµ–å€¼çš„å…·ä½“çš„ã€è¿è¡Œæ—¶ç‰ˆæœ¬ã€‚</p><figure class="highlight coq"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs coq">type Provider = TypeProvider | <span class="hljs-type">ValueProvider</span> | <span class="hljs-type">ClassProvider</span> | <span class="hljs-type">ConstructorProvider</span> | <span class="hljs-type">ExistingProvider</span> | <span class="hljs-type">FactoryProvider</span> | <span class="hljs-type">any</span>[];<br></code></pre></td></tr></table></figure><p>ClassProvider</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">interface</span> <span class="hljs-symbol">ClassProvider</span> <span class="hljs-symbol">extends</span> <span class="hljs-symbol">ClassSansProvider</span> &#123;<br>  <span class="hljs-comment">// DI ä»¤ç‰Œ</span><br>  provide: any<br>  multi?: <span class="hljs-built_in">bool</span>ean<br><br>  <span class="hljs-comment">// ç»§æ‰¿è‡ª core/ClassSansProvider</span><br>  useClass: Type&lt;any&gt;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ³¨å…¥å™¨"><a href="#æ³¨å…¥å™¨" class="headerlink" title="æ³¨å…¥å™¨"></a>æ³¨å…¥å™¨</h2><p>Angular ä¾èµ–æ³¨å…¥ç³»ç»Ÿä¸­å¯ä»¥åœ¨ç¼“å­˜ä¸­æ ¹æ®åå­—æŸ¥æ‰¾ä¾èµ–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®è¿‡çš„ã€Œæä¾›è€…ã€æ¥åˆ›å»ºä¾èµ–ã€‚ å¯åŠ¨è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ªæ¨¡å—åˆ›å»ºä¸€ä¸ªæ³¨å…¥å™¨ï¼Œå¹¶è¢«ç»„ä»¶æ ‘ç»§æ‰¿ã€‚</p><ul><li><p>æ³¨å…¥å™¨ä¼šæä¾›ä¾èµ–çš„ä¸€ä¸ªå•ä¾‹ï¼Œå¹¶æŠŠè¿™ä¸ªå•ä¾‹å¯¹è±¡æ³¨å…¥åˆ°å¤šä¸ªç»„ä»¶ä¸­ã€‚</p></li><li><p>æ¨¡å—å’Œç»„ä»¶çº§åˆ«çš„æ³¨å…¥å™¨æ ‘å¯ä»¥ä¸ºå®ƒä»¬æ‹¥æœ‰çš„ç»„ä»¶åŠå…¶å­ç»„ä»¶æä¾›åŒä¸€ä¸ªä¾èµ–çš„ä¸åŒå®ä¾‹ã€‚</p></li><li><p>ä½ å¯ä»¥ä¸ºåŒä¸€ä¸ªä¾èµ–ä½¿ç”¨ä¸åŒçš„æä¾›è€…æ¥é…ç½®è¿™äº›æ³¨å…¥å™¨ï¼Œè¿™äº›æä¾›è€…å¯ä»¥ä¸ºåŒä¸€ä¸ªä¾èµ–æä¾›ä¸åŒçš„å®ç°ã€‚</p></li></ul><h2 id="æ€ä¹ˆæ³¨å…¥ä¸€ä¸ªæœåŠ¡ï¼Ÿ"><a href="#æ€ä¹ˆæ³¨å…¥ä¸€ä¸ªæœåŠ¡ï¼Ÿ" class="headerlink" title="æ€ä¹ˆæ³¨å…¥ä¸€ä¸ªæœåŠ¡ï¼Ÿ"></a>æ€ä¹ˆæ³¨å…¥ä¸€ä¸ªæœåŠ¡ï¼Ÿ</h2><p>ä¸Šé¢ğŸ‘†ä»‹ç»äº†ï¼Œåœ¨ Angular ä¸­æœåŠ¡å°±æ˜¯ä¸€ä¸ªå¸¦æœ‰ @Injectable() è£…é¥°å™¨çš„ç±»ï¼Œå¯ä»¥æŠŠå®ƒä½œä¸ºä¾èµ–ï¼Œæ³¨å…¥åˆ°ç»„ä»¶ä¸­ã€‚åŒæ ·ï¼Œä¹Ÿè¦ä½¿ç”¨ @Injectable() è£…é¥°å™¨æ¥è¡¨æ˜ä¸€ä¸ªç»„ä»¶æˆ–å…¶å®ƒç±»ï¼ˆæ¯”å¦‚å¦ä¸€ä¸ªæœåŠ¡ã€ç®¡é“æˆ– NgModuleï¼‰æ‹¥æœ‰ä¸€ä¸ªä¾èµ–ï¼Œæˆ‘ä»¬å®é™…é¡¹ç›®ä¸­ç»å¤§éƒ¨åˆ†æ³¨å…¥çš„ä¾èµ–éƒ½æ˜¯æœåŠ¡ã€‚</p><ul><li><p><strong>æ³¨å…¥å™¨</strong>æ˜¯ä¸»è¦çš„æœºåˆ¶ã€‚Angular ä¼šåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ä¸ºä½ åˆ›å»ºå…¨åº”ç”¨çº§æ³¨å…¥å™¨ä»¥åŠæ‰€éœ€çš„å…¶å®ƒæ³¨å…¥å™¨ã€‚ä½ ä¸ç”¨è‡ªå·±åˆ›å»ºã€Œæ³¨å…¥å™¨ã€ã€‚</p></li><li><p>è¯¥æ³¨å…¥å™¨ä¼šåˆ›å»ºä¾èµ–ã€ç»´æŠ¤ä¸€ä¸ªå®¹å™¨æ¥ç®¡ç†è¿™äº›ä¾èµ–ï¼Œå¹¶å°½å¯èƒ½å¤ç”¨å®ƒä»¬ã€‚</p></li><li><p><strong>æä¾›è€…</strong>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å‘Šè¯‰æ³¨å…¥å™¨åº”è¯¥å¦‚ä½•è·å–æˆ–åˆ›å»ºä¾èµ–ã€‚</p></li></ul><p>ä½ çš„åº”ç”¨ä¸­æ‰€éœ€çš„ä»»ä½•ä¾èµ–ï¼Œéƒ½å¿…é¡»ä½¿ç”¨è¯¥åº”ç”¨çš„æ³¨å…¥å™¨æ¥æ³¨å†Œä¸€ä¸ª<strong>æä¾›è€…</strong>ï¼Œä»¥ä¾¿æ³¨å…¥å™¨å¯ä»¥ä½¿ç”¨è¿™ä¸ªæä¾›è€…æ¥åˆ›å»ºæ–°å®ä¾‹ã€‚å¯¹äºæœåŠ¡ï¼Œè¯¥æä¾›è€…é€šå¸¸å°±æ˜¯æœåŠ¡ç±»æœ¬èº«ã€‚</p><blockquote><p>ä¾èµ–ä¸ä¸€å®šæ˜¯æœåŠ¡ â€”â€” å®ƒè¿˜å¯èƒ½æ˜¯å‡½æ•°æˆ–å€¼ã€‚</p></blockquote><p>å½“ Angular åˆ›å»ºç»„ä»¶ç±»çš„æ–°å®ä¾‹æ—¶ï¼Œå®ƒä¼šé€šè¿‡æŸ¥çœ‹è¯¥ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°ï¼Œæ¥å†³å®šè¯¥ç»„ä»¶ä¾èµ–å“ªäº›æœåŠ¡æˆ–å…¶å®ƒä¾èµ–é¡¹ã€‚å¦‚ä¸‹ï¼šHeroListComponent çš„æ„é€ å‡½æ•°ä¸­éœ€è¦ HeroService</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs delphi"><span class="hljs-function"><span class="hljs-keyword">constructor</span><span class="hljs-params">(<span class="hljs-keyword">private</span> service: HeroService)</span> <span class="hljs-comment">&#123; &#125;</span></span><br></code></pre></td></tr></table></figure><p>å½“ Angular å‘ç°æŸä¸ªç»„ä»¶ä¾èµ–æŸä¸ªæœåŠ¡æ—¶ï¼Œå®ƒä¼šé¦–å…ˆæ£€æŸ¥æ˜¯å¦è¯¥æ³¨å…¥å™¨ä¸­å·²ç»æœ‰äº†é‚£ä¸ªæœåŠ¡çš„ä»»ä½•ç°æœ‰å®ä¾‹ã€‚å¦‚æœæ‰€è¯·æ±‚çš„æœåŠ¡å°šä¸å­˜åœ¨å®ä¾‹ï¼Œæ³¨å…¥å™¨å°±ä¼šä½¿ç”¨ä»¥å‰æ³¨å†Œçš„æœåŠ¡æä¾›è€…æ¥åˆ¶ä½œä¸€ä¸ªï¼Œå¹¶æŠŠå®ƒåŠ å…¥æ³¨å…¥å™¨ä¸­ï¼Œç„¶åæŠŠè¯¥æœåŠ¡è¿”å›ç»™ Angularã€‚</p><p>å½“æ‰€æœ‰è¯·æ±‚çš„æœåŠ¡å·²è§£æå¹¶è¿”å›æ—¶ï¼ŒAngular å¯ä»¥ç”¨è¿™äº›æœåŠ¡å®ä¾‹ä¸ºå‚æ•°ï¼Œè°ƒç”¨è¯¥ç»„ä»¶çš„æ„é€ å‡½æ•°ã€‚</p><p>æ³¨å…¥è¿‡ç¨‹å¯ä»¥ç”¨ä¸‹æ–¹éå¸¸å½¢è±¡å’Œç»å…¸çš„ä¸€å¼ å›¾æ¥æ¦‚æ‹¬ï¼š</p><p><img src="/img/inject/injector-injects.png"></p><p>ä¸ªäººç†è§£ï¼šå›¾ä¸­çš„Injectorå°±æ˜¯æ³¨å…¥å™¨ï¼Œå®ƒç®¡ç†ç€å¾ˆå¤šçš„ä¾èµ–ï¼ŒAngularä¸­ã€Œä¾èµ–é¡¹ã€å’Œã€ŒDIä»¤ç‰Œã€ç›¸æ˜ å°„ï¼Œã€ŒDIä»¤ç‰Œã€ä½œä¸ºæ˜ å°„çš„keyï¼Œã€Œä¾èµ–é¡¹ã€ä½œä¸ºæ˜ å°„çš„valueï¼Œå½“å‘ç°æ„é€ å‡½æ•°ä¸­ä¾èµ–HeroServiceæ—¶ï¼Œæ³¨å…¥å™¨å°±ä¼šæŠŠHeroServiceå½“ä½œã€ŒDIä»¤ç‰Œã€å»æ³¨å…¥å™¨ä¸­å»æŸ¥æ‰¾ç›¸åº”çš„ã€Œä¾èµ–é¡¹ã€ï¼Œæ‰¾åˆ°ä¾èµ–é¡¹ä»¥åï¼Œç„¶åå†å»æŸ¥æ‰¾è¯¥ä¾èµ–æœ‰æ²¡æœ‰å·²ç»å®ä¾‹åŒ–å¥½çš„å¯¹è±¡ï¼Œå¦‚æœæœ‰å°±ç›´æ¥è¿”å›è¯¥å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ³¨å…¥å™¨å°±ä¼šæ ¹æ®è¯¥ä¾èµ–çš„ã€Œæä¾›è€…ã€å»åˆ›å»ºå¯¹è±¡ï¼Œæ‰€ä»¥è¯´å¯¹è±¡æ˜¯ç”±æ³¨å…¥å™¨æ ¹æ®æä¾›è€…åˆ›å»ºçš„ã€‚ã€ŒæœåŠ¡ã€çš„æä¾›è€…é»˜è®¤å°±æ˜¯ useClassï¼Œä¹Ÿå°±æ˜¯æ³¨å…¥å™¨ä¼šé€šè¿‡ new çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå½“ç„¶æ­¤å¤–ã€Œæä¾›è€…ã€å¯ä»¥æ˜¯ useValue æˆ– useFactoryç­‰ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Angular</category>
      
    </categories>
    
    
    <tags>
      
      <tag>angular</tag>
      
      <tag>ä¾èµ–æ³¨å…¥</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>reactå­¦ä¹ ç¬”è®°-åŸºç¡€è¯­æ³•</title>
    <link href="/2022/03/29/react%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"/>
    <url>/2022/03/29/react%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>ç”±äºngå†™çš„æ¯ç‡¥æ— å‘³ï¼Œæ‰€ä»¥ä¾¿è¶ç€æ™šä¸Šæ— èŠæ—¶é—´å­¦ä¹ reactï¼Œå·æ­»ä½ ä»¬ï¼</p><p>æ­¤ç¬”è®°æ˜¯è®°å½•å­¦ä¹ reactçš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œä¸»è¦å­¦åˆ°äº†åˆ›å»ºreactç»„ä»¶çš„æ–¹å¼ã€jsxçš„åŸºç¡€è¯­æ³•ä»¥åŠreactä¸­çš„thisæŒ‡å‘é—®é¢˜ã€‚</p><h3 id="åˆ›å»ºreactç»„ä»¶çš„æ–¹å¼"><a href="#åˆ›å»ºreactç»„ä»¶çš„æ–¹å¼" class="headerlink" title="åˆ›å»ºreactç»„ä»¶çš„æ–¹å¼"></a>åˆ›å»ºreactç»„ä»¶çš„æ–¹å¼</h3><p>æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥åˆ›å»ºç»„ä»¶ï¼šå‡½æ•°å¼ç»„ä»¶å’Œç±»ç»„ä»¶ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight scala"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><pre><code class="hljs scala"><span class="hljs-comment">// å‡½æ•°å¼</span><br>function <span class="hljs-type">Welcome</span>(props) &#123;<br>  <span class="hljs-keyword">return</span> &lt;h1&gt;<span class="hljs-type">Hello</span>, &#123;props.name&#125;&lt;/h1&gt;;<br>&#125;<br><br><span class="hljs-comment">// ç±»ç»„ä»¶</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Welcom</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  render() &#123;<br>    <span class="hljs-keyword">return</span> &lt;h1&gt;<span class="hljs-type">Hello</span>, &#123;<span class="hljs-keyword">this</span>.props.name&#125;&lt;/h1&gt;;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>åœ¨ä¸è€ƒè™‘hooksä¹‹å‰ï¼Œç±»ç»„ä»¶å°±æ˜¯æ¯”å‡½æ•°ç»„ä»¶å¤šäº†stateï¼ˆçŠ¶æ€ï¼‰åŠŸèƒ½ï¼Œé€‚åˆå¤æ‚åŠŸèƒ½ï¼Œå½“ç„¶hookså°±ç­‰ä»¥åå­¦åˆ°å†è¯´å§ã€‚</p><h3 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h3><p>åœ¨reactä¸­ä½¿ç”¨jsxæ¥æ„å»ºç•Œé¢ï¼Œæœ€ç»ˆç”±babelç¼–è¯‘å™¨è½¬ä¸ºæ™®é€šçš„jsä»£ç ã€‚</p><p>JSXå…¨ç§°æ˜¯JavaScript XML æ˜¯å¯¹JavaScriptçš„ä¸€ç§æ‰©å±•ã€‚ä¸‹é¢æ˜¯å‡ ç§è¯­æ³•ï¼š</p><ol><li><p>å®šä¹‰è™šæ‹Ÿdomæ—¶ï¼Œä¸è¦å†™å¼•å·ã€‚</p></li><li><p>æ ‡ç­¾ä¸­æ··å…¥jsè¡¨è¾¾å¼æ—¶è¦ç”¨{}ã€‚</p></li><li><p>æ ·å¼çš„ç±»åä¸è¦ç”¨classï¼Œè¦æ¢æˆclassNameã€‚</p></li><li><p>å†…è”æ ·å¼ï¼Œè¦ç”¨{{key: value}}çš„å½¢å¼å»å†™ã€‚</p></li><li><p>åªèƒ½æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾ï¼Œä¸”æ ‡ç­¾å¿…é¡»é—­åˆã€‚</p></li><li><p>æ ‡ç­¾é¦–å­—æ¯ï¼šå¦‚æœæ˜¯å¤§å†™ï¼Œåˆ™babelä¼šä»¥ç»„ä»¶å»è§£æï¼Œå¦åˆ™ä¼šä»¥HTMLæ ‡ç­¾å»è§£æã€‚</p></li><li><p>ç‚¹å‡»äº‹ä»¶è¦å†™æˆ onClick={this.handleClick}çš„å½¢å¼ï¼ŒonClické©¼å³°å†™æ³•ã€‚</p></li></ol><h3 id="reactä¸­çš„thisæŒ‡å‘é—®é¢˜"><a href="#reactä¸­çš„thisæŒ‡å‘é—®é¢˜" class="headerlink" title="reactä¸­çš„thisæŒ‡å‘é—®é¢˜"></a>reactä¸­çš„thisæŒ‡å‘é—®é¢˜</h3><p>å…ˆçœ‹ä¸€ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span></span>&#123;<br>  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-built_in">super</span>();<br>    <span class="hljs-built_in">this</span>.state = &#123;<span class="hljs-attr">frameWork</span>: [<span class="hljs-string">&#x27;Angular&#x27;</span>,<span class="hljs-string">&#x27;React&#x27;</span>,<span class="hljs-string">&#x27;Vue&#x27;</span>]&#125;;<br>  &#125;<br>  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;<br>   <span class="hljs-keyword">return</span> (<br>       <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#123;</span>&#x27;<span class="hljs-attr">main</span>&#x27;&#125;&gt;</span></span><br><span class="xml">           <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;fontSize:</span>&#x27;<span class="hljs-attr">25px</span>&#x27;,<span class="hljs-attr">fontWeight:</span> &#x27;<span class="hljs-attr">bold</span>&#x27;&#125;&#125;&gt;</span>å‰ç«¯ä¸‰å¤§æ¡†æ¶<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml">           <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="xml">               &#123;this.state.frameWork.map((item,index) =&gt;</span><br><span class="xml">                   (<span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#123;</span>&#x27;<span class="hljs-attr">list</span>&#x27;&#125; <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.handleClick&#125;</span>&gt;</span>&#123;item&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>))&#125;</span><br><span class="xml">           <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="xml">       <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>   )<br>  &#125;<br>  <span class="hljs-function"><span class="hljs-title">handleClick</span>(<span class="hljs-params"></span>)</span> &#123;<br>  <span class="hljs-comment">// æ­¤å¤„æ‰“å°çš„thisä¼šæ˜¯undefinedï¼</span><br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæ‰“å°çš„thisçš„undefinedçš„åŸå› å¦‚ä¸‹ï¼š</p><ol><li><p>åœ¨reactä¸­çš„ç‚¹å‡»äº‹ä»¶å¹¶ä¸æ˜¯ç”±ç»„ä»¶ç±»çš„å®ä¾‹ç›´æ¥è°ƒç”¨çš„ï¼Œè€Œæ˜¯ç”±windowè°ƒç”¨çš„ï¼Œä¸Šé¢çš„ä»£ç ä¸­çš„onClickæ˜¯ä¸€ä¸ªèµ‹å€¼è¯­å¥ï¼Œå¹¶æ²¡æœ‰è¿è¡ŒhandleClickæ–¹æ³•ï¼Œè€Œæ˜¯ç”±windowè°ƒç”¨çš„ï¼Œç›¸å½“äº window.handleClick()</p></li><li><p>handleClickæ–¹æ³•æ˜¯ç±»ä¸­çš„å®ä¾‹æ–¹æ³•ï¼Œåœ¨ç±»çš„å®ä¾‹æ–¹æ³•å†…éƒ¨ä¼šé»˜è®¤å¯ç”¨â€™ use strict â€˜ä¸¥æ ¼æ¨¡å¼ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ–¹æ³•å†…éƒ¨çš„thiså°±å˜æˆäº†undefinedã€‚</p></li></ol><p>çŸ¥é“äº†åŸå› ä»¥åè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p><ol><li>åˆ©ç”¨bindæ–¹æ³•ï¼Œæ˜¾ç¤ºçš„æ”¹å˜thisæŒ‡å‘ã€‚åœ¨constructæ„é€ æ–¹æ³•ä¸­åŠ å…¥ï¼š</li></ol><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-comment">// è¿™é‡Œçš„thisæŒ‡çš„æ˜¯ç»„ä»¶ç±»çš„å®ä¾‹å¯¹è±¡</span><br><span class="hljs-keyword">this</span>.handleClick = <span class="hljs-keyword">this</span>.handleClick.bind(<span class="hljs-keyword">this</span>);<br></code></pre></td></tr></table></figure><ol start="2"><li>åˆ©ç”¨ES6çš„ç®­å¤´å‡½æ•°ï¼Œç®­å¤´å‡½æ•°ä¸­æ˜¯æ²¡æœ‰thisçš„ï¼Œå†…éƒ¨çš„thisæ˜¯æŒ‡å®ƒä¸Šä¸€å±‚çš„ä½œç”¨åŸŸä¸­çš„thisã€‚</li></ol><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-regexp">//</span> æŠŠå‡½æ•°æ”¹é€ æˆç®­å¤´å‡½æ•°<br><span class="hljs-function"> <span class="hljs-title">handleClick</span> = <span class="hljs-params">()</span> =&gt;</span> &#123;<br>   <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>);<br> &#125;<br></code></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ€»ç»“ä¸€ä¸‹ç”¨åˆ°çš„jsçš„çŸ¥è¯†ç‚¹ï¼š</p><ol><li><p>åŸå‹ä¸åŸå‹é“¾ï¼ˆç±»çš„ç»§æ‰¿ï¼‰</p></li><li><p>thisçš„æŒ‡å‘é—®é¢˜ï¼ˆç®­å¤´å‡½æ•°ä¸­çš„thisï¼‰</p></li><li><p>jsä¸­çš„ä¸¥æ ¼æ¨¡å¼</p></li><li><p>æ˜¾å¼æ”¹å˜thisçš„æŒ‡å‘çš„æ–¹æ³•ï¼ˆbindã€callã€applyçš„åŒºåˆ«ï¼‰</p></li></ol><p>ä»¥ä¸Šã€‚ç”±äºç¬”è€…æ°´å¹³æœ‰é™ï¼Œè‹¥æœ‰é”™è¯¯æ•¬è¯·æŒ‡æ­£ï¼Œæ¬¢è¿è¯„è®ºåŒºç•™è¨€äº¤æµ~</p>]]></content>
    
    
    <categories>
      
      <category>React</category>
      
    </categories>
    
    
    <tags>
      
      <tag>react</tag>
      
      <tag>reactåŸºç¡€è¯­æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>angularä¸­é˜²æŠ–çš„å®ç°</title>
    <link href="/2022/02/21/angular%E4%B8%AD%E9%98%B2%E6%8A%96%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
    <url>/2022/02/21/angular%E4%B8%AD%E9%98%B2%E6%8A%96%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
    
    <content type="html"><![CDATA[<p>åœ¨angularä¸­çš„é˜²æŠ–ä¸»è¦æ˜¯åˆ©ç”¨äº†rxjsä¸­çš„debounceæ“ä½œç¬¦ï¼Œéå¸¸ç®€æ´æ–¹ä¾¿ï¼ä¸‹é¢ä¸»è¦æ˜¯ä»‹ç»å…¶ä¸‰ç§å†™æ³•ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼Œä¸å°è£…æŒ‡ä»¤çš„é˜²æŠ–å’Œå°è£…æˆæŒ‡ä»¤çš„é˜²æŠ–ï¼Œå…¶ä¸­å°è£…æˆæŒ‡ä»¤çš„é˜²æŠ–åˆæœ‰ä¸¤ç§å†™æ³•ï¼šåˆ©ç”¨@HostListenerè£…é¥°å™¨å’ŒRenderer2.listenæ–¹æ³•ã€‚</p><h3 id="ä¸å°è£…æŒ‡ä»¤çš„é˜²æŠ–"><a href="#ä¸å°è£…æŒ‡ä»¤çš„é˜²æŠ–" class="headerlink" title="ä¸å°è£…æŒ‡ä»¤çš„é˜²æŠ–"></a>ä¸å°è£…æŒ‡ä»¤çš„é˜²æŠ–</h3><p>html</p><figure class="highlight handlebars"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;syn-margin-24&quot;</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><br><span class="xml">    é»˜è®¤æ—¶é—´500msï¼Œåªæœ‰500msä»¥å†…æ²¡æœ‰äº‹ä»¶è§¦å‘æ‰ä¼šæ‰§è¡Œã€‚</span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;syn-margin-24 label-font&quot;</span>&gt;</span></span><br><span class="xml">    </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">total</span>&#125;&#125;</span><span class="xml"></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">nz-button</span> <span class="hljs-attr">nzType</span>=<span class="hljs-string">&quot;primary&quot;</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">&quot;add($event)&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">nz-icon</span> <span class="hljs-attr">nzType</span>=<span class="hljs-string">&quot;plus&quot;</span> <span class="hljs-attr">nzTheme</span>=<span class="hljs-string">&quot;outline&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="xml">    Add</span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>ts</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; debounceTime &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rxjs/operators&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; Component,OnDestroy&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; Subscription, Subject &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rxjs&#x27;</span>;<br><br><span class="hljs-meta">@Component</span>(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;syn-debounce&#x27;</span>,<br>  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">&#x27;./debounce.component.html&#x27;</span>,<br>  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">&#x27;./debounce.component.scss&#x27;</span>]<br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DebounceComponent</span> <span class="hljs-title">implements</span> <span class="hljs-title">OnDestroy</span></span>&#123;<br>  <span class="hljs-keyword">public</span> total: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">public</span> debounceTime: <span class="hljs-built_in">number</span> = <span class="hljs-number">500</span>;<br>  <span class="hljs-keyword">public</span> subscription = <span class="hljs-keyword">new</span> Subscription();<br>  <span class="hljs-keyword">public</span> subject$ = <span class="hljs-keyword">new</span> Subject();<br>  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-built_in">this</span>.subscription = <span class="hljs-built_in">this</span>.subject$.pipe(debounceTime(<span class="hljs-built_in">this</span>.debounceTime)).subscribe(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-built_in">this</span>.total+=<span class="hljs-number">1</span>);<br>   &#125;<br>  <span class="hljs-function"><span class="hljs-title">add</span>(<span class="hljs-params">$event: MouseEvent</span>)</span> &#123;<br>    <span class="hljs-built_in">this</span>.subject$.next($event);<br>  &#125;<br>  ngOnDestroy(): <span class="hljs-built_in">void</span> &#123;<br>    <span class="hljs-built_in">this</span>.subscription.unsubscribe();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå›¾</p><p><img src="/img/debounce/article-1.gif"></p><p>å®šä¹‰äº†ä¸€ä¸ªâ€œä¸»ä½“â€Subjectï¼Œå®ƒæ—¢æ˜¯è§‚å¯Ÿè€…ï¼Œä¹Ÿå¯ä»¥æ˜¯è®¢é˜…è€…ï¼Œæ¯æ¬¡ç‚¹å‡»äº‹ä»¶æ—¶è°ƒç”¨addæ–¹æ³•ï¼Œç„¶åä½¿ç”¨nextæ–¹æ³•å‘é€äº‹ä»¶ï¼Œç„¶åç”±äºsubject$åŒæ—¶subscribe(è®¢é˜…)äº†äº‹ä»¶ï¼Œæ‰€ä»¥ä¼šç»è¿‡rxjsçš„debounceè¿ç®—ç¬¦çš„å¤„ç†ï¼Œå…¶æ¥æ”¶ä¸€ä¸ªnumberç±»å‹çš„å€¼ï¼Œå•ä½msï¼Œå°±æ˜¯æˆ‘ä»¬è®¾ç½®çš„é˜²æŠ–æ—¶é—´ã€‚</p><h3 id="æŒ‡ä»¤-HostListener"><a href="#æŒ‡ä»¤-HostListener" class="headerlink" title="æŒ‡ä»¤-@HostListener"></a>æŒ‡ä»¤-@HostListener</h3><p>åœ¨å®é™…çš„é¡¹ç›®ä¸­ç”¨åˆ°é˜²æŠ–çš„åœ°æ–¹è‚¯å®šä¸åªæœ‰ä¸€å¤„ï¼Œæ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬åº”è¯¥å°è£…å‡ºä¸€ä¸ªé˜²æŠ–çš„æŒ‡ä»¤ä½¿ç”¨,åœ¨ngä¸­ç›‘å¬domäº‹ä»¶çš„æ–¹æ³•æˆ‘æ‰€äº†è§£çš„æœ‰ä¸¤ç§ï¼š@HostListenerç›‘å¬å’ŒRenderer2.listenæ–¹æ³•ã€‚æ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åˆ©ç”¨äº†rxjsï¼Œåªä¸è¿‡å°±æ˜¯ç›‘å¬å…ƒç´ äº‹ä»¶çš„å†™æ³•ä¸åŒè€Œå·²ã€‚</p><p>ts</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; Directive, EventEmitter, HostListener, Input, OnDestroy, OnInit, Output &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; Subject, Subscription &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rxjs&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; debounceTime &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rxjs/operators&#x27;</span>;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description </span>åŸºäºrxjsçš„debounceTimeæ“ä½œç¬¦çš„é˜²æŠ–</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Directive</span>(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;[synDebounceClick]&#x27;</span><br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DebounceClickDirective</span> <span class="hljs-title">implements</span> <span class="hljs-title">OnInit</span>, <span class="hljs-title">OnDestroy</span> </span>&#123;<br>  <span class="hljs-meta">@Input</span>() debounceTime = <span class="hljs-number">500</span>;<br>  <span class="hljs-meta">@Output</span>(<span class="hljs-string">&#x27;synDebounceClick&#x27;</span>) debounceClick = <span class="hljs-keyword">new</span> EventEmitter();<br>  <span class="hljs-keyword">private</span> subject$ = <span class="hljs-keyword">new</span> Subject();<br>  <span class="hljs-keyword">private</span> subscription!: Subscription;<br>  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"></span>)</span> &#123; &#125;<br>  ngOnInit(): <span class="hljs-built_in">void</span> &#123;<br>    <span class="hljs-built_in">this</span>.subscription = <span class="hljs-built_in">this</span>.subject$.pipe(<br>      debounceTime(<span class="hljs-built_in">this</span>.debounceTime)<br>    ).subscribe(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-built_in">this</span>.debounceClick.emit(e))<br>  &#125;<br>  <span class="hljs-function"><span class="hljs-title">ngOnDestroy</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-built_in">this</span>.subscription.unsubscribe();<br>  &#125;<br>  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>,[<span class="hljs-string">&#x27;$event&#x27;</span>])<br>  <span class="hljs-function"><span class="hljs-title">clickEvent</span>(<span class="hljs-params">event: <span class="hljs-built_in">any</span></span>)</span> &#123;<br>    event.preventDefault();<br>    event.stopPropagation();<br>    <span class="hljs-built_in">this</span>.subject$.next(event);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯¼å…¥ç›¸åº”çš„moduleåç„¶ååœ¨HTMLæ¨¡æ¿ä¸­ä½¿ç”¨å³å¯</p><figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs hsp">&lt;<span class="hljs-keyword">button</span> nz-<span class="hljs-keyword">button</span> nzType=<span class="hljs-string">&quot;primary&quot;</span> (synDebounceClick)=<span class="hljs-string">&quot;add()&quot;</span>&gt;Primary <span class="hljs-keyword">Button</span>&lt;/<span class="hljs-keyword">button</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="æŒ‡ä»¤-Renderer2-listen"><a href="#æŒ‡ä»¤-Renderer2-listen" class="headerlink" title="æŒ‡ä»¤-Renderer2.listen"></a>æŒ‡ä»¤-Renderer2.listen</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; debounceTime &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rxjs/operators&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; Subject, Subscription &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rxjs&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; Directive, ElementRef, Renderer2, OnInit, Input, Output, EventEmitter, OnDestroy &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br><br><span class="hljs-meta">@Directive</span>(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;[synDebounceRendererClick]&#x27;</span><br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DebounceRendererDirective</span> <span class="hljs-title">implements</span> <span class="hljs-title">OnInit</span>, <span class="hljs-title">OnDestroy</span> </span>&#123;<br>  <span class="hljs-keyword">private</span> subject$ = <span class="hljs-keyword">new</span> Subject();<br>  <span class="hljs-keyword">private</span> subscription!: Subscription;<br>  <span class="hljs-meta">@Input</span>() debounceTime: <span class="hljs-built_in">number</span> = <span class="hljs-number">500</span>;<br>  <span class="hljs-meta">@Output</span>(<span class="hljs-string">&#x27;synDebounceRendererClick&#x27;</span>) synDebounceRendererClick = <span class="hljs-keyword">new</span> EventEmitter();<br>  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> _elementRef: ElementRef, <span class="hljs-keyword">private</span> _renderer2: Renderer2</span>)</span> &#123;<br>    <span class="hljs-built_in">this</span>.subscription = <span class="hljs-built_in">this</span>.subject$.pipe(debounceTime(<span class="hljs-built_in">this</span>.debounceTime))<br>    .subscribe(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-built_in">this</span>.synDebounceRendererClick.emit());<br>  &#125;<br><br>  ngOnInit(): <span class="hljs-built_in">void</span> &#123;<br>    <span class="hljs-built_in">this</span>._renderer2.listen(<span class="hljs-built_in">this</span>._elementRef.nativeElement,<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>      e.stopPropagation();<br>      e.preventDefault();<br>      <span class="hljs-built_in">this</span>.subject$.next(e);<br>    &#125;);<br>  &#125;<br>  ngOnDestroy(): <span class="hljs-built_in">void</span> &#123;<br>    <span class="hljs-built_in">this</span>.subscription.unsubscribe();<br>  &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>html</p><figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs hsp">&lt;<span class="hljs-keyword">button</span> nz-<span class="hljs-keyword">button</span> nzType=<span class="hljs-string">&quot;primary&quot;</span> (synDebounceRendererClick)=<span class="hljs-string">&quot;add()&quot;</span>&gt;Primary <span class="hljs-keyword">Button</span>&lt;/<span class="hljs-keyword">button</span>&gt;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯æˆ‘æ‰€çŸ¥é“çš„ä¸‰ç§å†™æ³•ï¼Œè‡³äº@HostListenerå’ŒRenderer2.listen()æœ‰ä»€ä¹ˆåŒºåˆ«æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šå¤šæ–¹æŸ¥é˜…ä¹Ÿæ²¡æœ‰å¾—åˆ°å…·ä½“çš„ç»“æœï¼Œæˆ‘æ‰€äº†è§£çš„æ˜¯@HostListeneråªèƒ½ç›‘å¬å®¿ä¸»å…ƒç´ ï¼Œè€ŒRenderer2.listen()å¯ä»¥ç›‘å¬ä»»æ„å…ƒç´ ï¼Œå¦‚æœè¿˜æœ‰å…¶å®ƒä¸åŒè¯·åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï¼</p><p>ç¬”è€…æ°´å¹³æœ‰é™ï¼Œè‹¥æœ‰é”™è¯¯æ•¬è¯·æŒ‡æ­£ï¼Œä¸æ˜ç™½çš„åœ°æ–¹æ¬¢è¿è¯„è®ºåŒºç•™è¨€äº¤æµ~</p>]]></content>
    
    
    <categories>
      
      <category>Angular</category>
      
    </categories>
    
    
    <tags>
      
      <tag>angular</tag>
      
      <tag>é˜²æŠ–</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•åœ¨jsä¸­è®¡ç®—å­—ç¬¦ä¸²çš„åƒç´ é•¿åº¦</title>
    <link href="/2022/02/10/javascript%E4%B8%AD%E8%AE%A1%E7%AE%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%83%8F%E7%B4%A0%E5%AE%BD%E5%BA%A6/"/>
    <url>/2022/02/10/javascript%E4%B8%AD%E8%AE%A1%E7%AE%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%83%8F%E7%B4%A0%E5%AE%BD%E5%BA%A6/</url>
    
    <content type="html"><![CDATA[<p>å…³é”®ç‚¹ï¼šåˆ©ç”¨Element.getBoundingClientRect()å‡½æ•°</p><h3 id="Element-getBoundingClientRect-ä»‹ç»"><a href="#Element-getBoundingClientRect-ä»‹ç»" class="headerlink" title="Element.getBoundingClientRect() ä»‹ç»"></a>Element.getBoundingClientRect() ä»‹ç»</h3><p>çœ‹ä¸€ä¸‹mdnçš„è§£é‡Šï¼š</p><blockquote><p>The Element.getBoundingClientRect() method returns a DOMRect object providing information about the size of an element and its position relative to the viewport.</p></blockquote><p>è¯´çš„æ˜¯è¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªDOMRectå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­ä¼šåŒ…å«å½“å‰domå…ƒç´ çš„ä¸€äº›ä¿¡æ¯ï¼Œå¦‚ç›¸å¯¹äºè§†çª—çš„ä½ç½®ã€å®½é«˜ç­‰ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œè¿”å›çš„å…ƒç´ çš„å®½é«˜æ˜¯åŒ…å«å…ƒç´ çš„border-widthå’Œpaddingçš„ï¼Œå› ä¸ºç›’å­é»˜è®¤çš„æ˜¯æ ‡å‡†ç›’æ¨¡å‹ï¼ˆstandard boxï¼‰ï¼Œå¦‚æœè®¾ç½®äº†box-sizingï¼šborder-boxçš„è¯ï¼Œåˆ™è·å–åˆ°çš„å®½é«˜åªåŒ…å«å…ƒç´ å†…å®¹çš„å®½é«˜ã€‚</p><h4 id="DOMRectå¯¹è±¡"><a href="#DOMRectå¯¹è±¡" class="headerlink" title="DOMRectå¯¹è±¡"></a>DOMRectå¯¹è±¡</h4><p>DOMRectå¯¹è±¡æè¿°äº†ä¸€ä¸ªçŸ©å½¢çš„å¤§å°å’Œä½ç½®ï¼Œå±æ€§éƒ½æ˜¯åªè¯»çš„ã€‚</p><p>é€šè¿‡mdnä¸Šçš„ä¸€ä¸ªdemoçœ‹ä¸€ä¸‹éƒ½æœ‰å“ªäº›å±æ€§å§:</p><p>html</p><figure class="highlight apache"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;div&gt;</span><span class="hljs-section">&lt;/div&gt;</span><br></code></pre></td></tr></table></figure><p>css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">div</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">background</span>: purple;<br>&#125;<br></code></pre></td></tr></table></figure><p>javascript</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-keyword">let</span> elem = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;div&#x27;</span>);<br><span class="hljs-keyword">let</span> <span class="hljs-built_in">rect</span> = elem.getBoundingClientRect();<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> <span class="hljs-built_in">rect</span>) &#123;<br>  <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">rect</span>[key] !== <span class="hljs-string">&#x27;function&#x27;</span>) &#123;<br>    <span class="hljs-keyword">let</span> para = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&#x27;p&#x27;</span>);<br>    para.textContent  = <span class="hljs-string">`<span class="hljs-subst">$&#123; key &#125;</span> : <span class="hljs-subst">$&#123; rect[key] &#125;</span>`</span>;<br>    <span class="hljs-built_in">document</span>.body.appendChild(para);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><a href="https://codepen.io/yanglusen/pen/YzEVGgq">ä¼ é€é—¨</a></p><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src="/img/calculate/result.png"></p><p>è¿™é‡Œçš„widthå±æ€§æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„å…ƒç´ çš„å®½åº¦ã€‚</p><p>è¿™é‡Œè§£é‡Šä¸‹ï¼Œä»£ç é‡Œæ²¡æœ‰è®¾ç½®margin:8px,ä¸ºä»€ä¹ˆä¼šæœ‰8åƒç´ çš„marginå‘¢ï¼Œæ˜¯ä»¥ä¸ºcodePenè¿™ä¸ªåœ¨çº¿ç¼–è¾‘å™¨çš„bodyæœ‰é»˜è®¤çš„8pxçš„marginã€‚</p><h3 id="æœ€ç»ˆä»£ç "><a href="#æœ€ç»ˆä»£ç " class="headerlink" title="æœ€ç»ˆä»£ç "></a>æœ€ç»ˆä»£ç </h3><p>å…¶å®çŸ¥é“äº†å…³é”®çš„æ–¹æ³•ä»£ç ä¹Ÿå°±å‡ºæ¥äº†ï¼Œå¦‚ä¸‹è¿™æ˜¯tsçš„å†™æ³•ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è®¡ç®—å­—ç¬¦ä¸²çš„åƒç´ é•¿åº¦</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param </span>str è¾“å…¥çš„å­—ç¬¦ä¸²</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param </span>fontSize å­—ä½“å¤§å°</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@returns </span>è¾“å…¥å­—ç¬¦ä¸²çš„åƒç´ é•¿åº¦</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> getTextWidth(str: <span class="hljs-built_in">string</span>,<span class="hljs-attr">fontSize</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> &#123;<br> <span class="hljs-keyword">let</span> result = <span class="hljs-number">0</span>;<br> <span class="hljs-keyword">const</span> ele = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&#x27;div&#x27;</span>);<br> ele.style.position = <span class="hljs-string">&#x27;absolute&#x27;</span>;<br> ele.style.whiteSpace = <span class="hljs-string">&#x27;nowrap&#x27;</span>;<br> ele.style.fontSize = fontSize;<br> ele.style.fontFamily = <span class="hljs-string">&#x27;inherit&#x27;</span>;<br> ele.style.opacity = <span class="hljs-string">&#x27;0&#x27;</span>;<br> ele.innerText = str;<br> <span class="hljs-built_in">document</span>.body.append(ele);<br> result = ele.getBoundingClientRect().width;<br> <span class="hljs-built_in">document</span>.body.removeChild(ele);<br> <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯å­—ç¬¦ä¸²çš„å­—ä½“æ ·å¼å¦‚fontFamilyã€fontSizeç­‰éƒ½ä¼šå½±å“å…¶å®½åº¦çš„ï¼Œå› ä¸ºæˆ‘çš„éœ€æ±‚ä¸­å­—ä½“éƒ½æ˜¯Chromeé»˜è®¤çš„ï¼Œåªæœ‰å¤§å°ä¼šä¸åŒï¼Œæ‰€ä»¥å•ç‹¬æŠŠå­—ä½“å¤§å°ä½œä¸ºå½¢å‚æäº†å‡ºæ¥ã€‚</p><p>ç¬”è€…æ°´å¹³æœ‰é™ï¼Œè‹¥æœ‰é”™è¯¯æ•¬è¯·æŒ‡æ­£ï¼Œä¸æ˜ç™½çš„åœ°æ–¹ä¹Ÿå¯è¯„è®ºåŒºç•™è¨€äº¤æµ~</p>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ng-zorroä¸­å®ç°ä¸¤ä¸ªtableåŒæ­¥æ»šåŠ¨æ•ˆæœ</title>
    <link href="/2022/01/19/ng-zorro%E4%B8%AD%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AAtable%E5%90%8C%E6%AD%A5%E6%BB%9A%E5%8A%A8%E6%95%88%E6%9E%9C/"/>
    <url>/2022/01/19/ng-zorro%E4%B8%AD%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AAtable%E5%90%8C%E6%AD%A5%E6%BB%9A%E5%8A%A8%E6%95%88%E6%9E%9C/</url>
    
    <content type="html"><![CDATA[<p>æŸå¤©ä¸‹åˆï¼ŒåŒäº‹å‘æˆ‘è¯·æ•™äº†ä¸€ä¸ªé—®é¢˜ï¼Œéœ€æ±‚æ˜¯æœ‰ä¸¤ä¸ªtableï¼Œå½“tableå­˜åœ¨æ»šåŠ¨æ¡æ—¶ï¼Œåœ¨æŸä¸€ä¸ªtableä¸Šæ»šåŠ¨ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªtableä¹Ÿè¦åŒæ­¥æ»šåŠ¨ï¼Œå·§çš„æ˜¯æˆ‘ä¹Ÿä¸ä¼šï¼Œä½†æ˜¯æˆ‘é—²ç€æ²¡äº‹ï¼Œå¸®ç€ç ”ç©¶äº†ä¸€ä¸‹ã€‚</p><p>æŠ€æœ¯æ ˆæ˜¯ï¼š angular8 + ng-zorroç»„ä»¶åº“</p><p>å…ˆçœ‹æ•ˆæœå’Œä»£ç ï¼š</p><p><img src="/img/ng-zorro-scroll/scroll.gif"></p><p>htmlä»£ç </p><figure class="highlight handlebars"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></div></td><td class="code"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;syn-margin-left-24&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: flex;&quot;</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">nz-table</span> [<span class="hljs-attr">nzData</span>]=<span class="hljs-string">&quot;leftData&quot;</span>  [<span class="hljs-attr">nzScroll</span>]=<span class="hljs-string">&quot;&#123;y: &#x27;300px&#x27;&#125;&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 95%;&quot;</span> [<span class="hljs-attr">nzShowPagination</span>]=<span class="hljs-string">false</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">th</span> &gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">th</span> &gt;</span>Age<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">th</span> &gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">&quot;let data of leftData&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">data.name</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">data.age</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">data.address</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">nz-table</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">nz-table</span> [<span class="hljs-attr">nzData</span>]=<span class="hljs-string">&quot;rightData&quot;</span> [<span class="hljs-attr">nzScroll</span>]=<span class="hljs-string">&quot;&#123;y: &#x27;300px&#x27;&#125;&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 95%;&quot;</span> [<span class="hljs-attr">nzShowPagination</span>]=<span class="hljs-string">false</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Age<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">&quot;let data of rightData&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">data.name</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">data.age</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">data.address</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">nz-table</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>tsä»£ç </p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; StorageUtil &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./../shared/utils/storage-util&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; AfterViewInit, Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;<br>  name?: <span class="hljs-built_in">string</span>;<br>  age?: <span class="hljs-built_in">number</span>;<br>  address?: <span class="hljs-built_in">string</span>;<br>&#125;<br><span class="hljs-meta">@Component</span>(&#123;<br>  <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;app-dashboard&#x27;</span>,<br>  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">&#x27;./dashboard.component.html&#x27;</span>,<br>  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">&#x27;./dashboard.component.scss&#x27;</span>]<br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DashboardComponent</span> <span class="hljs-title">implements</span> <span class="hljs-title">AfterViewInit</span> </span>&#123;<br>  <span class="hljs-attr">leftData</span>: Person[] = <span class="hljs-built_in">this</span>.generateItems(<span class="hljs-string">&#x27;Edward King&#x27;</span>,<span class="hljs-number">32</span>,<span class="hljs-string">&#x27;London, Park Lane no.&#x27;</span>,<span class="hljs-number">25</span>);<br>  rightData: Person[] = <span class="hljs-built_in">this</span>.generateItems(<span class="hljs-string">&#x27;John Brown&#x27;</span>,<span class="hljs-number">42</span>,<span class="hljs-string">&#x27;New York No. 1 Lake Park&#x27;</span>,<span class="hljs-number">15</span>);<br>  ngAfterViewInit(): <span class="hljs-built_in">void</span> &#123;<br>    <span class="hljs-keyword">const</span> element = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&#x27;.ant-table-body&#x27;</span>);<br>    <span class="hljs-keyword">const</span> leftTable = element[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">const</span> rightTable = element[<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">const</span> scale = (leftTable.scrollHeight - leftTable.clientHeight) / (rightTable.scrollHeight - rightTable.clientHeight);<br>    <span class="hljs-keyword">if</span> (leftTable?.scrollHeight &amp;&amp; leftTable.clientHeight &amp;&amp; leftTable?.scrollHeight &amp;&amp; leftTable.clientHeight) &#123;<br>      <span class="hljs-keyword">let</span> flag = <span class="hljs-literal">true</span>;<br>      leftTable.addEventListener(<span class="hljs-string">&#x27;mouseover&#x27;</span>,<span class="hljs-function">() =&gt;</span> &#123;<br>        flag = <span class="hljs-literal">false</span>;<br>        leftTable.addEventListener(<span class="hljs-string">&#x27;scroll&#x27;</span>,<span class="hljs-function">() =&gt;</span> &#123;<br>          <span class="hljs-keyword">if</span> (!flag) &#123;<br>            rightTable.scrollTop = leftTable.scrollTop / scale;<br>            rightTable.scrollLeft = leftTable.scrollLeft;<br>          &#125;<br>        &#125;)<br>      &#125;);<br>      rightTable.addEventListener(<span class="hljs-string">&#x27;mouseover&#x27;</span>,<span class="hljs-function">() =&gt;</span> &#123;<br>        flag = <span class="hljs-literal">true</span>;<br>        rightTable.addEventListener(<span class="hljs-string">&#x27;scroll&#x27;</span>,<span class="hljs-function">() =&gt;</span> &#123;<br>          <span class="hljs-keyword">if</span> (flag) &#123;<br>            leftTable.scrollTop = rightTable.scrollTop * scale;<br>            leftTable.scrollLeft = rightTable.scrollLeft;<br>          &#125;<br>        &#125;)<br>      &#125;);<br>    &#125;<br>  &#125;<br>  generateItems(name: <span class="hljs-built_in">string</span>,<span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>,<span class="hljs-attr">address</span>: <span class="hljs-built_in">string</span>,<span class="hljs-attr">size</span>: <span class="hljs-built_in">number</span>): Person[] &#123;<br>    <span class="hljs-keyword">const</span> res: Person[] = [];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>      res.push(<br>        &#123;<br>         <span class="hljs-attr">name</span>: <span class="hljs-string">`<span class="hljs-subst">$&#123;name&#125;</span><span class="hljs-subst">$&#123;i&#125;</span>`</span>,<br>         <span class="hljs-attr">age</span>: age + i,<br>         <span class="hljs-attr">address</span>: <span class="hljs-string">`<span class="hljs-subst">$&#123;address&#125;</span><span class="hljs-subst">$&#123;i&#125;</span>`</span><br>        &#125;<br>      )<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>çœ‹tsä»£ç çš„ç¬¬23è¡Œï¼ŒquerySelectAll()æ–¹æ³•å¯ä»¥è·å–æ‰€æœ‰classåä¸ºâ€ant-table-bodyâ€çš„å…ƒç´ ï¼Œè¿™ä¸ªclassæ˜¯ng-zorroæ¡†æ¶å†…éƒ¨çš„ç±»ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨çš„å®¡æŸ¥å…ƒç´ çœ‹åˆ°ï¼š</p><p><img src="/img/ng-zorro-scroll/ng-zorro-scroll-1.png"></p><p>å¯èƒ½ä½ ä¼šæœ‰ç–‘é—®ä¸ºä»€ä¹ˆæˆ‘ä¼šæ‰¾è¿™ä¸ªclasså‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¦ç›‘å¬å­˜åœ¨æ»šåŠ¨æ¡çš„å®¹å™¨çš„scrolläº‹ä»¶ï¼Œæ‰€ä»¥è‡ªç„¶çš„è¦æ‰¾åˆ°è¿™ä¸ªå®¹å™¨ã€‚</p><p>ç°åœ¨å·²ç»æŠŠDomæ‰¾å‡ºæ¥äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯è®¾ç½®è®©ä¸¤ä¸ªtableçš„scrollTopå’ŒscrollLeftçš„å€¼ç›¸åŒå³å¯ã€‚</p><p>æœ‰ä¸¤ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p><ol><li><p>ä¸Šé¢çš„ä»£ç æˆ‘ä»¬è®¾ç½®äº†ä¸ªflagå€¼ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢å·¦å³ä¸¤ä¸ªtableç›¸äº’èµ‹å€¼å¯¼è‡´æ»‘åŠ¨ç¼“æ…¢ï¼ŒåŒæ—¶ä¹Ÿå¯å‡å°‘æµè§ˆå™¨çš„æ€§èƒ½æ¶ˆè€—ï¼Œä½ å¯ä»¥å»æ‰flagå­—æ®µçœ‹çœ‹ï¼Œæ»‘åŠ¨ä¼šå˜å¡ã€‚</p></li><li><p>scaleå€¼æ˜¯ä¸ºäº†é˜²æ­¢ä¸¤ä¸ªtableçš„é«˜åº¦ä¸ä¸€æ ·è®¾ç½®çš„ï¼Œè¿™æ ·çš„è¯æ»‘åŠ¨çš„æ—¶å€™ä¸¤ä¸ªtableä¼šåŒæ—¶åˆ°è¾¾åº•éƒ¨æˆ–é¡¶éƒ¨ã€‚å¦‚æœä¸¤ä¸ªtableçš„é«˜åº¦ç›¸åŒé‚£scaleå°±æ²¡å•¥æ„ä¹‰äº†ï¼ŒåŠ ä¸åŠ éƒ½ä¸€æ ·ã€‚</p></li></ol><p>å®Œæ•´çš„æ€è·¯å¦‚ä¸‹ï¼š</p><ol><li><p>æ‰¾åˆ°å…³é”®ç‚¹ï¼Œä½¿ä¸¤ä¸ªtableåŒæ­¥æ»šåŠ¨çš„å…³é”®å°±æ˜¯æ‰¾åˆ°å¹¶è®¾ç½®ä¸¤ä¸ªtableæ»šåŠ¨åŒºåŸŸçš„scrollTopã€scrollLeftçš„å€¼ç›¸åŒå³å¯ã€‚</p></li><li><p>å› ä¸ºç”¨çš„æ˜¯ng-zorroæ¡†æ¶ï¼Œæ‰€ä»¥é€šè¿‡å®¡æŸ¥å…ƒç´ å®šä½åˆ°æŸä¸ªdivã€‚</p></li><li><p>é€šè¿‡querySelectorAll()æ–¹æ³•è·å–ä¸¤ä¸ªtableçš„domå¯¹è±¡ï¼Œè·å–domå¯¹è±¡çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œåœ¨è¿™é‡Œåªèƒ½ç”¨querySelectorAll()æ–¹æ³•ã€‚</p></li><li><p>æ·»åŠ ç›‘å¬äº‹ä»¶ï¼Œå…ˆç›‘å¬mouseoverå†ç›‘å¬scrolläº‹ä»¶ã€‚</p></li><li><p>è®¾ç½®ä¸¤ä¸ªå®¹å™¨çš„scrollTopå’ŒscrollLeftçš„å€¼ç›¸åŒã€‚</p></li><li><p>è€ƒè™‘åæ€æœ‰æ²¡æœ‰é—®é¢˜ï¼Œæ¯”å¦‚ä¸¤ä¸ªtableé«˜åº¦ä¸ä¸€æ ·ç­‰ï¼Œç„¶åå†æƒ³æ€ä¹ˆå®Œå–„ã€‚</p></li></ol><p>è§£å†³è¯¥é—®é¢˜ç”¨åˆ°äº†å¾ˆå¤šåŸºç¡€çš„jsçš„çŸ¥è¯†ï¼Œæ¯”å¦‚åŸç”Ÿçš„é¼ æ ‡ç›‘å¬äº‹ä»¶ï¼Œmouseoverã€scrollç­‰ï¼Œè¿˜æœ‰scrollTopã€scrollHeighã€clientHeightç­‰å±æ€§çš„ç†è§£ï¼Œç”±æ­¤çœ‹å‡ºæœ‰ä¸€ä¸ªå¥½çš„åŸºç¡€è¿˜æ˜¯æŒºé‡è¦çš„ï¼</p><p>ä»¥ä¸Šã€‚ç¬”è€…æ°´å¹³æœ‰é™ï¼Œè‹¥æœ‰é”™è¯¯æ•¬è¯·æŒ‡æ­£ï¼Œä¸æ˜ç™½çš„åœ°æ–¹ä¹Ÿå¯è¯„è®ºåŒºç•™è¨€äº¤æµ~</p>]]></content>
    
    
    <categories>
      
      <category>Angular</category>
      
    </categories>
    
    
    <tags>
      
      <tag>angular</tag>
      
      <tag>ng-zorro</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cssä¸­çš„repeatå‡½æ•°çš„ç”¨æ³•</title>
    <link href="/2022/01/18/css%E4%B8%AD%E7%9A%84repeat%E5%87%BD%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95/"/>
    <url>/2022/01/18/css%E4%B8%AD%E7%9A%84repeat%E5%87%BD%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>åœ¨å­¦ä¹ cssçš„è¿‡ç¨‹ä¸­å‘ç°cssæ˜¯çœŸçš„éš¾ï¼Œå¯èƒ½æŸä¸€ä¸ªå±æ€§å°±å¾—å»æ·±ç©¶åŠå¤©ï¼Œä¸ç§¯è·¬æ­¥æ— ä»¥è‡³åƒé‡Œï¼Œé‡åˆ°ä¸ä¼šçš„ä¸”è§‰ç€æœ‰æ·±åº¦çš„é—®é¢˜å°½é‡å­¦ä¹ è®°å½•ä¸€ä¸‹å§ã€‚ä»Šå¤©æ¥çœ‹ä¸€ä¸‹cssä¸­çš„repeat()å‡½æ•°ã€‚</p><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å…ˆçœ‹MDNçš„å®šä¹‰å§ï¼š</p><blockquote><p>CSS repeat() å‡½æ•°è¡¨ç¤ºè½¨é“åˆ—è¡¨çš„é‡å¤ç‰‡æ®µï¼Œå…è®¸ä»¥æ›´ç´§å‡‘çš„å½¢å¼å†™å…¥å¤§é‡æ˜¾ç¤ºé‡å¤æ¨¡å¼çš„åˆ—æˆ–è¡Œã€‚è¯¥å‡½æ•°å¯ä»¥ç”¨äº CSS Grid å±æ€§ä¸­ grid-template-columns å’Œ grid-template-rows.</p></blockquote><p>æˆ‘ä¸ªäººçš„ç†è§£: gridå¸ƒå±€ä¸­grid-template-columns å’Œ grid-template-rows ä¸¤ä¸ªå±æ€§åˆ†åˆ«æ˜¯å®šä¹‰ç½‘æ ¼çš„åˆ—æ•°å’Œè¡Œæ•°ï¼Œå¦‚æœå®šä¹‰å¤§é‡çš„é‡å¤å®½åº¦çš„è¡Œæˆ–åˆ—å°±å¯ä»¥ç”¨åˆ°è¿™ä¸ªå‡½æ•°ç®€åŒ–äº†ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><pre><code class="hljs css">grid-template-<span class="hljs-attribute">columns</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;<br><br>// ç­‰åŒäº<br><br>grid-template-<span class="hljs-attribute">columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>,<span class="hljs-number">100px</span>);<br></code></pre></td></tr></table></figure><h3 id="å–å€¼"><a href="#å–å€¼" class="headerlink" title="å–å€¼"></a>å–å€¼</h3><p>å®šä¹‰å…¶å®ä¸éš¾ï¼Œé‡ç‚¹æ˜¯å®ƒçš„è¯­æ³•å’Œä½¿ç”¨ï¼Œå°¤å…¶æ˜¯å½“å®ƒä¸å…³é”®å­—ç»“åˆæ—¶ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„æ•ˆæœã€‚</p><p>repeatå‡½æ•°æ‰€æœ‰çš„å–å€¼å¦‚ä¸‹ï¼š</p><ol><li><p>æ­£æ•´æ•°é•¿åº¦ã€‚å¦‚ 100pxã€10vwç­‰</p></li><li><p>ç™¾åˆ†æ¯”ï¼Œç›¸å¯¹äºç½‘æ ¼å®¹å™¨å—çš„å¤§å°çš„ç™¾åˆ†æ¯”ã€‚å¦‚ 10%</p></li><li><p>å¸¦æœ‰ fr å•ä½çš„éè´Ÿå°ºå¯¸æŒ‡å®šè½¨é“çš„å¼¹æ€§ç³»æ•°ã€‚ å¦‚ 1fr</p></li><li><p>max-content å…³é”®å­—ï¼Œä»£è¡¨å æ®ç½‘æ ¼è½¨é“çš„ç½‘æ ¼é¡¹ç›®æ‰€åˆ†é…çš„æœ€å¤§å†…å®¹åŒºåŸŸçš„æœ€å¤§å€¼ã€‚</p></li><li><p>min-content å…³é”®å­—ï¼Œä»£è¡¨å æ®ç½‘æ ¼è½¨é“çš„ç½‘æ ¼é¡¹ç›®æ‰€åˆ†é…çš„æœ€å°å†…å®¹åŒºåŸŸçš„æœ€å°å€¼ã€‚</p></li><li><p>auto å…³é”®å­—ï¼Œä½œä¸ºæœ€å¤§å€¼ï¼Œç­‰åŒäº max-contentã€‚ä½œä¸ºæœ€å°å€¼ï¼Œå®ƒä»£è¡¨å æ®ç½‘æ ¼è½¨é“çš„ç½‘æ ¼é¡¹ç›®çš„æœ€å°å°ºå¯¸çš„æœ€å¤§å€¼ ï¼ˆå¦‚åŒmin-width/min-heightæ‰€æŒ‡å®šçš„)ï¼‰ã€‚</p></li><li><p>auto-fill å…³é”®å­—ï¼Œå†…å®¹è‡ªåŠ¨å¡«å……ï¼Œå…·ä½“è§£é‡Šå’Œä¸‹é¢çš„auto-fitå…³é”®å­—ä¸€èµ·è¯´ã€‚</p></li><li><p>auto-fit å…³é”®è¯ï¼Œå†…å®¹è‡ªåŠ¨é€‚åº”ã€‚</p></li></ol><h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><ol><li>ç½‘æ ¼åˆ’åˆ†æˆ4åˆ—ï¼Œæ¯”ä¾‹ä¸º1:1:1:1</li></ol><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">repeat</span>(<span class="hljs-number">4</span>,<span class="hljs-number">1</span>fr);<br></code></pre></td></tr></table></figure><p><img src="/img/repeat/repeat-demo-1.png"></p><p><a href="https://codepen.io/yanglusen/pen/PoJXdgj">Demoä¼ é€é—¨</a></p><ol start="2"><li>ä½¿ç”¨å…³é”®å­— min-content/max-content</li></ol><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs fortran"><span class="hljs-built_in">repeat</span>(<span class="hljs-number">4</span>,<span class="hljs-built_in">min</span>-content);<br><br><span class="hljs-built_in">repeat</span>(<span class="hljs-number">4</span>,<span class="hljs-built_in">max</span>-content);<br></code></pre></td></tr></table></figure><p>1ï¼‰å…ˆçœ‹min-contentçš„ä»£ç å’Œç¤ºä¾‹å›¾ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;grid-containter&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">input</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>grid grid grid grid grid grid grid grid grid grid<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æµ‹è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>AAAAAAAAAAAAAAAAAA<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>AAAAAAAAAAAAAAAAAA<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>AAAAAAA BBBBBB<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>cc<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æµ‹è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>AAAAA<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>cc<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.grid-containter</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">2px</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">50vw</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">220px</span>;<br>  <span class="hljs-attribute">border</span>: solid <span class="hljs-number">2px</span> <span class="hljs-number">#000</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">display</span>: grid;<br>  grid-template-<span class="hljs-attribute">columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">4</span>,min-content);<br>  place-items: center;<br>  gap: <span class="hljs-number">5px</span>;<br>&#125;<br><span class="hljs-selector-class">.item</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">border</span>: solid <span class="hljs-number">1px</span> transparent;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#F89427</span>;<br>  <span class="hljs-attribute">display</span>:flex;<br>  <span class="hljs-attribute">flex-direction</span>: column;<br>  <span class="hljs-attribute">justify-content</span>: center;<br>  <span class="hljs-attribute">align-items</span>: center;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹å›¾ï¼š</p><p><img src="/img/repeat/repeat-demo-2.png"></p><p><a href="https://codepen.io/yanglusen/pen/YzrdJOE">Demoä¼ é€é—¨</a></p><p><strong>å¯¹äºmin-contentè¿™ä¸ªå…³é”®è¯æˆ‘ä¸ªäººè§‰ç€æ˜¯ä¸å¤ªå¥½ç†è§£çš„ï¼Œå¦‚æœçœ‹å®Œä»£ç å’Œç¤ºä¾‹å›¾æœ‰ç–‘é—®çš„è¯å¯åˆ°æ–‡æœ«çœ‹å¯¹äºè¿™ä¸ªå…³é”®è¯çš„å•ç‹¬åˆ†æã€‚</strong></p><p>2ï¼‰å†çœ‹max-contentçš„ä»£ç å’Œç¤ºä¾‹å›¾</p><p>ä»£ç åªéœ€è¦æ”¹åŠ¨cssä¸­çš„ä¸€è¡Œï¼ŒæŠŠ min-content æ›¿æ¢æˆ max-content</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">grid</span>-template-<span class="hljs-built_in">columns</span>: repeat(<span class="hljs-number">4</span>,<span class="hljs-built_in">max</span>-<span class="hljs-built_in">content</span>);<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹å›¾</p><p><img src="/img/repeat/repeat-demo-2-2.png"></p><p>å¯ä»¥çœ‹åˆ°å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªdivçš„å®½åº¦å˜å¤§äº†ï¼Œæ˜¯å› ä¸ºæ­¤max-contentå–å¾—æ˜¯ç¬¬ä¸€ä¸ªpæ ‡ç­¾çš„å®½åº¦ä½œä¸ºdivçš„å®½åº¦ã€‚è€Œmin-contentå–å¾—æ˜¯æœ€åä¸€ä¸ªpæ ‡ç­¾çš„å®½åº¦ã€‚</p><p>3.å›ºå®šæŸåˆ—å®½åº¦ï¼Œå…¶å®ƒåˆ—æŒ‰æ¯”ä¾‹å¹³åˆ†</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">grid</span>-template-columns: <span class="hljs-number">400</span>px repeat(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>fr);<br></code></pre></td></tr></table></figure><p><img src="/img/repeat/repeat-demo-3.png"></p><p><a href="https://codepen.io/yanglusen/pen/bGoOQLN">Demoä¼ é€é—¨</a></p><ol start="4"><li>ä½¿ç”¨minmaxå‡½æ•°ï¼Œè®¾ç½®åˆ—çš„æœ€å¤§ã€æœ€å°å€¼</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">grid-template-<span class="hljs-attribute">columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">4</span>, <span class="hljs-built_in">minmax</span>(<span class="hljs-number">100px</span>, <span class="hljs-number">1</span>fr));<br></code></pre></td></tr></table></figure><ol start="4"><li>ä½¿ç”¨å…³é”®å­— auto-fill/auto-fit</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">grid-template-<span class="hljs-attribute">columns</span>: <span class="hljs-built_in">repeat</span>(auto-fill, <span class="hljs-built_in">minmax</span>(<span class="hljs-number">100px</span>, <span class="hljs-number">1</span>fr));<br><br>grid-template-<span class="hljs-attribute">columns</span>: <span class="hljs-built_in">repeat</span>(auto-fit, <span class="hljs-built_in">minmax</span>(<span class="hljs-number">100px</span>, <span class="hljs-number">1</span>fr));<br></code></pre></td></tr></table></figure><p>auto-fill</p><p><img src="/img/repeat/repeat-demo-4.png"></p><p>auto-fit</p><p><img src="/img/repeat/repeat-demo-5.png"></p><p>auto-fillå’Œauto-fitçš„åŒºåˆ«ä»å®ƒä»¬çš„åå­—ä¸Šå°±èƒ½çœ‹å‡ºæ¥ï¼Œä¸€ä¸ªæ˜¯è‡ªåŠ¨å¡«å……ï¼Œä¸€ä¸ªæ˜¯è‡ªåŠ¨é€‚åº”ï¼Œçœ‹ä¸€ä¸‹å›½å¤–å¤§ä½¬çš„è§£é‡Šï¼š</p><blockquote><p>auto-fill: å¡«å……å°½å¯èƒ½å¤šçš„åˆ—ã€‚å› æ­¤ï¼Œåªè¦æ–°åˆ—å¯ä»¥å®¹çº³ï¼Œå®ƒå°±ä¼šåˆ›å»ºéšå¼åˆ—ï¼Œå› ä¸ºå®ƒè¯•å›¾ç”¨å°½å¯èƒ½å¤šçš„åˆ—å¡«å……è¡Œã€‚æ–°æ·»åŠ çš„åˆ—å¯ä»¥ä¹Ÿå¯èƒ½æ˜¯ç©ºçš„ï¼Œä½†å®ƒä»¬ä»å°†å æ®è¡Œä¸­çš„æŒ‡å®šç©ºé—´ã€‚</p></blockquote><blockquote><p>auto-fit: é€‚åˆå½“å‰å¯ç”¨åˆ—çš„ç©ºé—´æ‰©å¤§ï¼Œä»¥ä¾¿ä»–ä»¬å ç”¨ä»»ä½•å¯ç”¨çš„ç©ºé—´ã€‚æµè§ˆå™¨åœ¨ç”¨é¢å¤–çš„åˆ—å¡«å……è¿™äº›é¢å¤–çš„ç©ºé—´ä¹‹å(å¦‚è‡ªåŠ¨å¡«å……) ï¼Œç„¶åæŠ˜å ç©ºçš„åˆ—ã€‚</p></blockquote><p><a href="https://codepen.io/yanglusen/pen/poWYPKq">Demoä¼ é€é—¨</a></p><p><img src="/img/repeat/repeat-demo-4-1.png"></p><p>å¦‚ä¸Šå›¾ï¼šå½“å®¹å™¨ç©ºé—´å……è¶³æ—¶ï¼Œauto-fillä¼šéšå¼çš„åˆ›å»ºæ›´å¤šçš„åˆ—ã€‚</p><h3 id="min-contentå…³é”®è¯"><a href="#min-contentå…³é”®è¯" class="headerlink" title="min-contentå…³é”®è¯"></a>min-contentå…³é”®è¯</h3><p>ä¸ºä»€ä¹ˆæŠŠmin-contentå…³é”®è¯å•ç‹¬æ‹¿å‡ºæ¥è¯´ï¼Œæˆ‘æŸ¥äº†å¾ˆå¤šèµ„æ–™å¹¶æ²¡æœ‰å¾ˆå¥½çš„è§£é‡Šåˆ°ä½ï¼Œè€Œä¸”æˆ‘å‘ç°ç½‘ä¸Šè¿˜æœ‰ä¸€äº›å…³äºå®ƒçš„demoçš„ç†è§£æ˜¯é”™è¯¯çš„ï¼Œæ‰€ä»¥ç‰¹æ­¤è§£é‡Šä¸€ä¸‹æˆ‘çš„ç†è§£ï¼š</p><p>çœ‹MDNçš„è§£é‡Šï¼š</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">The <span class="hljs-built_in">min</span>-content sizing keyword represents <span class="hljs-keyword">the</span> intrinsic minimum width <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> content. For <span class="hljs-keyword">text</span> content this means that <span class="hljs-keyword">the</span> content will take all soft-wrapping opportunities, becoming <span class="hljs-keyword">as</span> small <span class="hljs-keyword">as</span> <span class="hljs-keyword">the</span> longest <span class="hljs-built_in">word</span>.<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯è‹±æ–‡ç‰ˆçš„ï¼Œä¸ºä»€ä¹ˆä¸çœ‹ä¸­æ–‡ç‰ˆçš„å‘¢ï¼Ÿå› ä¸ºä¸­æ–‡ç‰ˆçš„å†…å®¹æ²¡æœ‰åŠæ—¶æ›´æ–°ï¼Œè‡³å°‘æˆªæ­¢åˆ°æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æ˜¯æ²¡æœ‰çš„ã€‚</p><p>å¤§æ¦‚çš„æ„æ€å°±æ˜¯min-content å…³é”®å­—è¡¨ç¤ºå†…å®¹å›ºæœ‰çš„æœ€å°å®½åº¦ï¼Œå¯¹äºæ–‡æœ¬è€Œè¨€ï¼Œæœ€å°å®½åº¦åˆ™æ˜¯æœ€é•¿å•è¯çš„å®½åº¦ã€‚æ‡‚äº†å—ï¼Ÿå¦‚æœä¸€ä¸ªå®¹å™¨å†…çš„å†…å®¹æ˜¯æ–‡æœ¬ï¼Œå¦‚æœç”¨äº†min-contentå…³é”®å­—ï¼Œé‚£ä¹ˆè¯¥å®¹å™¨çš„å®½åº¦åˆ™å–å®¹å™¨å†…å•è¯æœ€é•¿çš„æ–‡æœ¬çš„å®½åº¦ï¼Œè€Œä¸æ˜¯å•è¯æœ€çŸ­çš„é‚£ä¸ªï¼Œè¿™é‡Œè¿˜æœ‰ä¸€ä¸ªå‘å°±æ˜¯ï¼Œå¯¹äºä¸­æ–‡è€Œè¨€ï¼Œä¸€ä¸ªå­—å°±æ˜¯ä¸€ä¸ªâ€œè¯â€ï¼Œè€Œå¯¹äºè‹±æ–‡å’Œæ•°å­—ï¼Œåˆ™æ˜¯æ ¹æ®ç©ºæ ¼æ¥åŒºåˆ†ä¸€ä¸ªè¯çš„ã€‚æ¯”å¦‚ â€œHelloWorldâ€è¿™æ˜¯ä¸€ä¸ªè¯ã€‚</p><p>å†çœ‹ä¸Šæ–‡ä¸­çš„ä¾‹å­å°±å¯ä»¥ç†è§£äº†å§ï¼Ÿ</p><p>ä»¥ä¸Šï¼Œè™½ç„¶æ–‡ç« æ ‡é¢˜æ˜¯repeatå‡½æ•°ï¼Œä½†æ˜¯å¹¶ä¸åªæ˜¯è®²äº†repeatå‡½æ•°ï¼Œç¬”è€…æ°´å¹³æœ‰é™ï¼Œè‹¥æœ‰é”™è¯¯æ•¬è¯·æŒ‡æ­£ï¼Œä¸æ˜ç™½çš„åœ°æ–¹ä¹Ÿå¯è¯„è®ºåŒºç•™è¨€äº¤æµ~</p><p>å‚è€ƒèµ„æ–™ï¼š</p><p><a href="https://css-tricks.com/auto-sizing-columns-css-grid-auto-fill-vs-auto-fit/">Auto-Sizing Columns in CSS Grid: <code>auto-fill</code> vs <code>auto-fit</code></a></p><p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/min-content">MDN min-content</a></p>]]></content>
    
    
    <categories>
      
      <category>CSS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
      <tag>repeat</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cssä¸­çš„linear-gradientå‡½æ•°çš„ç”¨æ³•</title>
    <link href="/2021/12/30/css%E4%B8%AD%E7%9A%84linear-gradient%E5%87%BD%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95/"/>
    <url>/2021/12/30/css%E4%B8%AD%E7%9A%84linear-gradient%E5%87%BD%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>æ—¥å¸¸å·¥ä½œä¸­ç”¨åˆ°äº†æ¸å˜è‰²ï¼Œä½†æ˜¯ä»…é™äºäº†è§£å®ç°ç®€å•çš„æ•ˆæœï¼Œæ‰€ä»¥è¶ç€æœ‰ç©ºå¥½å¥½å­¦ä¹ ä¸€ç•ªã€‚</p><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>MDNçš„è§£é‡Šï¼š</p><blockquote><p>CSS linear-gradient() å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªè¡¨ç¤ºä¸¤ç§æˆ–å¤šç§é¢œè‰²çº¿æ€§æ¸å˜çš„å›¾ç‰‡ã€‚å…¶ç»“æœå±äº&lt;gradient&gt;æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸€ç§ç‰¹åˆ«çš„&lt;image&gt;æ•°æ®ç±»å‹ã€‚</p></blockquote><p>linear-gradientå…¶å®å°±æ˜¯ç›¸å½“äºbackground-imageï¼Œå®ƒåˆ›å»ºçš„æ˜¯èƒŒæ™¯å›¾ç‰‡è€ŒéèƒŒæ™¯è‰²ã€‚</p><h4 id="æ¸å˜è§’åº¦"><a href="#æ¸å˜è§’åº¦" class="headerlink" title="æ¸å˜è§’åº¦"></a>æ¸å˜è§’åº¦</h4><p>æ¸å˜è§’åº¦æ˜¯ä¸æ¸å˜å®¹å™¨ä¸­å¿ƒç‚¹çš„å‚çº¿å½¢æˆçš„è§’åº¦ã€‚</p><h4 id="æ¸å˜çº¿"><a href="#æ¸å˜çº¿" class="headerlink" title="æ¸å˜çº¿"></a>æ¸å˜çº¿</h4><blockquote><p>æ¸å˜çº¿ç”±åŒ…å«æ¸å˜å›¾å½¢çš„å®¹å™¨çš„ä¸­å¿ƒç‚¹å’Œä¸€ä¸ªè§’åº¦æ¥å®šä¹‰çš„ã€‚æ¸å˜çº¿ä¸Šçš„é¢œè‰²å€¼æ˜¯ç”±ä¸åŒçš„ç‚¹æ¥å®šä¹‰ï¼ŒåŒ…æ‹¬èµ·å§‹ç‚¹ï¼Œç»ˆç‚¹ï¼Œä»¥åŠä¸¤è€…ä¹‹é—´çš„å¯é€‰çš„ä¸­é—´ç‚¹ï¼ˆä¸­é—´ç‚¹å¯ä»¥æœ‰å¤šä¸ªï¼‰</p></blockquote><p>å¦‚ä¸‹å›¾ï¼š</p><p><img src="/img/linear-gradient/gradient-1.png"></p><p>ç‚¹Cä¸ºæ¸å˜å®¹å™¨çš„ä¸­å¿ƒç‚¹ï¼Œè§’åº¦Aæ˜¯ä¸è¿‡Cç‚¹çš„å‚çº¿å½¢æˆçš„è§’åº¦ï¼Œç©¿è¿‡ä¸­å¿ƒç‚¹å½¢æˆæ¸å˜è§’çš„è¿™æ¡çº¿å°±å«åšæ¸å˜è§’åº¦ã€‚</p><p><strong>æ¸å˜çº¿å’Œæ¸å˜è§’åº¦ç›¸è¾…ç›¸æˆï¼Œå®ƒä»¬ä¹‹é—´å¯ä»¥æ ¹æ®å½¼æ­¤äº’ç›¸è®¡ç®—å¾—åˆ°ã€‚</strong></p><h4 id="èµ·å§‹ç‚¹"><a href="#èµ·å§‹ç‚¹" class="headerlink" title="èµ·å§‹ç‚¹"></a>èµ·å§‹ç‚¹</h4><blockquote><p>èµ·å§‹ç‚¹æ˜¯æ¸å˜çº¿ä¸Šä»£è¡¨èµ·å§‹é¢œè‰²å€¼çš„ç‚¹ã€‚èµ·å§‹ç‚¹ç”±æ¸å˜çº¿å’Œè¿‡å®¹å™¨é¡¶ç‚¹çš„å‚ç›´çº¿ä¹‹é—´çš„äº¤å‰ç‚¹æ¥å®šä¹‰ã€‚ï¼ˆå‚ç›´çº¿è·Ÿæ¸å˜çº¿åœ¨åŒä¸€è±¡é™å†…ï¼‰</p></blockquote><h4 id="ç»ˆç‚¹"><a href="#ç»ˆç‚¹" class="headerlink" title="ç»ˆç‚¹"></a>ç»ˆç‚¹</h4><blockquote><p>ç»ˆç‚¹æ˜¯æ¸å˜çº¿ä¸Šä»£è¡¨æœ€ç»ˆé¢œè‰²å€¼çš„ç‚¹ã€‚ç»ˆç‚¹ä¹Ÿæ˜¯ç”±æ¸å˜çº¿å’Œä»æœ€è¿‘çš„é¡¶ç‚¹å‘å‡ºçš„å‚ç›´çº¿ä¹‹é—´çš„äº¤å‰ç‚¹å®šä¹‰çš„ï¼Œç„¶è€Œä»èµ·å§‹ç‚¹çš„å¯¹ç§°ç‚¹æ¥å®šä¹‰ç»ˆç‚¹æ˜¯æ›´å®¹æ˜“ç†è§£çš„ä¸€ç§æ–¹å¼ï¼Œå› ä¸ºç»ˆç‚¹æ˜¯èµ·ç‚¹å…³äºå®¹å™¨çš„ä¸­å¿ƒç‚¹çš„åå°„ç‚¹ã€‚</p></blockquote><p>å¦‚ä¸‹å›¾ï¼š</p><p><img src="/img/linear-gradient/gradient-2.png"></p><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><p>å…ˆçœ‹MDNï¼š</p><p><img src="/img/linear-gradient/gradient-3.png"></p><blockquote><p><strong>&lt;side-or-corner&gt;</strong><br>æè¿°æ¸å˜çº¿çš„èµ·å§‹ç‚¹ä½ç½®ã€‚å®ƒåŒ…å«toå’Œä¸¤ä¸ªå…³é”®è¯ï¼šç¬¬ä¸€ä¸ªæŒ‡å‡ºæ°´å¹³ä½ç½®left or rightï¼Œç¬¬äºŒä¸ªæŒ‡å‡ºå‚ç›´ä½ç½®top or bottomã€‚å…³é”®è¯çš„å…ˆåé¡ºåºæ— å½±å“ï¼Œä¸”éƒ½æ˜¯å¯é€‰çš„ã€‚<br>to top, to bottom, to left å’Œ to rightè¿™äº›å€¼ä¼šè¢«è½¬æ¢æˆè§’åº¦0åº¦ã€180åº¦ã€270åº¦å’Œ90åº¦ã€‚å…¶ä½™å€¼ä¼šè¢«è½¬æ¢ä¸ºä¸€ä¸ªä»¥å‘é¡¶éƒ¨ä¸­å¤®æ–¹å‘ä¸ºèµ·ç‚¹é¡ºæ—¶é’ˆæ—‹è½¬çš„è§’åº¦ã€‚æ¸å˜çº¿çš„ç»“æŸç‚¹ä¸å…¶èµ·ç‚¹ä¸­å¿ƒå¯¹ç§°ã€‚</p></blockquote><blockquote><p><strong>&lt;angle&gt;</strong><br>ç”¨è§’åº¦å€¼æŒ‡å®šæ¸å˜çš„æ–¹å‘ï¼ˆæˆ–è§’åº¦ï¼‰ã€‚è§’åº¦é¡ºæ—¶é’ˆå¢åŠ ã€‚ </p></blockquote><blockquote><p><strong>&lt;linear-color-stop&gt;</strong><br>ç”±ä¸€ä¸ª<color>å€¼ç»„æˆï¼Œå¹¶ä¸”è·Ÿéšç€ä¸€ä¸ªå¯é€‰çš„ç»ˆç‚¹ä½ç½®ï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”å€¼æˆ–è€…æ˜¯æ²¿ç€æ¸å˜è½´çš„<length>ï¼‰</p></blockquote><blockquote><p><strong>&lt;color-hint&gt;</strong><br>é¢œè‰²ä¸­è½¬ç‚¹æ˜¯ä¸€ä¸ªæ’å€¼æç¤ºï¼Œå®ƒå®šä¹‰äº†åœ¨ç›¸é‚»é¢œè‰²ä¹‹é—´æ¸å˜å¦‚ä½•è¿›è¡Œã€‚é•¿åº¦å®šä¹‰äº†åœ¨ä¸¤ç§é¢œè‰²ä¹‹é—´çš„å“ªä¸ªç‚¹åœæ­¢æ¸å˜é¢œè‰²åº”è¯¥è¾¾åˆ°é¢œè‰²è¿‡æ¸¡çš„ä¸­ç‚¹ã€‚å¦‚æœçœç•¥ï¼Œé¢œè‰²è½¬æ¢çš„ä¸­ç‚¹æ˜¯ä¸¤ä¸ªé¢œè‰²åœæ­¢ä¹‹é—´çš„ä¸­ç‚¹ã€‚</p></blockquote><p>å¤ªå¤šï¼Ÿçœ‹ä¸æ‡‚ï¼Ÿæ²¡å…³ç³»ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Value_definition_syntax">æ•™ä½ è¯»æ‡‚MDNä¸Šçš„CSSè¯­æ³•</a></p><p>ç®€å•çš„æ€»ç»“ä¸€ä¸‹è¯­æ³•ï¼š</p><table><thead><tr><th>å€¼</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td>æ–¹å‘</td><td align="center">å®šä¹‰æ¸å˜è‰²çš„æ¸å˜æ–¹å‘ï¼ˆè§’åº¦ï¼‰,å…¶å€¼å¯é€‰ï¼Œé»˜è®¤å€¼æ˜¯180degï¼ˆto bottomï¼‰</td></tr><tr><td>æ¸å˜è‰²</td><td align="center">è‡³å°‘ç”±ä¸¤ä¸ªé¢œè‰²ç»„æˆï¼Œæ¯ä¸ªé¢œè‰²åé¢è·Ÿç€å¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºä¸¤ä¸ªé¢œè‰²ä¹‹é—´æ¸å˜è‰²çš„èµ·ç‚¹ï¼Œå¦‚ï¼šlinear-gradient(red 10%, blue 90%)ï¼Œè¡¨ç¤ºä»èµ·ç‚¹åˆ°10%çš„è·ç¦»ä¸ºçº¢è‰²ï¼Œ10%-90%çš„è·ç¦»ä¸ºä»çº¢è‰²æ¸å˜åˆ°è“è‰²ï¼Œ90%-ç»ˆç‚¹ä¸ºè“è‰²ã€‚æ¯ä¸¤ä¸ªé¢œè‰²ä¸­é—´è¿˜æœ‰ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œä»£è¡¨ä¸¤ä¸ªé¢œè‰²è½¬æ¢çš„ä¸­ç‚¹ï¼Œé»˜è®¤50%ï¼Œå¦‚10% - 90% è¿™æ®µæ¸å˜è·ç¦»çš„ä¸­ç‚¹å°±æ˜¯ä¸¤ä¸ªé¢œè‰²çš„è½¬æ¢çš„ä¸­ç‚¹</td></tr></tbody></table><h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><p>åˆ—ä¸¾è¯¥å‡½æ•°æ‰€æœ‰å¯èƒ½æ€§çš„ç”¨æ³•ï¼š</p><ol><li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸å†™,é»˜è®¤180degï¼Œä»ä¸Šåˆ°ä¸‹æ¸å˜</li></ol><figure class="highlight processing"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><pre><code class="hljs processing"><span class="hljs-built_in">background</span>: linear-gradient(<span class="hljs-built_in">red</span>, <span class="hljs-built_in">blue</span>);<br><br><span class="hljs-comment">// ç­‰åŒäºï¼š</span><br><br><span class="hljs-built_in">background</span>: linear-gradient(<span class="hljs-number">180</span>deg, <span class="hljs-built_in">red</span>, <span class="hljs-built_in">blue</span>);<br><br><span class="hljs-built_in">background</span>: linear-gradient(to bottom, <span class="hljs-built_in">red</span>, <span class="hljs-built_in">blue</span>);<br></code></pre></td></tr></table></figure><p><img src="/img/linear-gradient/gradient-4.png"></p><p><strong><a href="https://codepen.io/yanglusen/pen/yLzRpNR">Demoä¼ é€é—¨</a></strong></p><ol start="2"><li>å¸¦ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ45åº¦æ¸å˜</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">45deg</span>, red, blue);<br></code></pre></td></tr></table></figure><p><img src="/img/linear-gradient/gradient-5.png"></p><p><strong><a href="https://codepen.io/yanglusen/pen/MWEPrgP">Demoä¼ é€é—¨</a></strong></p><ol start="3"><li>æ¸å˜è‰²åè·Ÿå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºæ¸å˜çš„è·ç¦»</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(red <span class="hljs-number">20%</span>, blue <span class="hljs-number">80%</span>);<br></code></pre></td></tr></table></figure><p><img src="/img/linear-gradient/gradient-6.png"></p><p><strong><a href="https://codepen.io/yanglusen/pen/eYGPymx">Demoä¼ é€é—¨</a></strong></p><ol start="4"><li>æ¯ä¸¤ä¸ªæ¸å˜è‰²ä¹‹é—´è·Ÿå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºä¸¤ä¸ªé¢œè‰²é—´æ¸å˜çš„ä¸­å¿ƒç‚¹</li></ol><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">background</span>: linear-gradient(red <span class="hljs-number">20</span>%, <span class="hljs-number">60</span>%, blue <span class="hljs-number">80</span>%);<br></code></pre></td></tr></table></figure><p><img src="/img/linear-gradient/gradient-7.png"></p><p><strong><a href="https://codepen.io/yanglusen/pen/MWEPOLB">Demoä¼ é€é—¨</a></strong></p><p>å†è§£é‡Šä¸€ä¸‹ï¼Œæ¸å˜ä¸­å¿ƒï¼šä»ä¸Šåˆ°ä¸‹ï¼Œ20%åˆ°80%ä¸ºå®¹å™¨çš„æ¸å˜è·ç¦»ï¼Œç„¶åå¦‚æœä¸è®¾ç½®æ¸å˜ä¸­å¿ƒï¼Œé»˜è®¤50%ï¼Œä¹Ÿå°±æ˜¯è¯´20%åˆ°80%ä¹‹é—´è·ç¦»çš„ä¸­å¿ƒä¹Ÿå°±æ˜¯ä¸¤ä¸ªé¢œè‰²æ­£å¼æ”¹å˜çš„ä½ç½®ï¼Œå¦‚ä¸Šï¼Œæˆ‘è®¾ç½®äº†æ¸å˜ä¸­å¿ƒä¸º60%çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´çº¢è‰²æ¸å˜çš„è·ç¦»é•¿ï¼Œé¢œè‰²æ”¹å˜çš„æ…¢ã€‚</p><p>ä»¥ä¸Šã€‚ç¬”è€…æ°´å¹³æœ‰é™ï¼Œè‹¥æœ‰é”™è¯¯æ•¬è¯·æŒ‡æ­£ï¼Œä¸æ˜ç™½çš„åœ°æ–¹ä¹Ÿå¯è¯„è®ºåŒºç•™è¨€äº¤æµ~</p><p>å‚è€ƒèµ„æ–™ï¼š</p><p><a href="https://www.w3cplus.com/css3/do-you-really-understand-css-linear-gradients.html">ä½ çœŸçš„ç†è§£CSSçš„linear-gradientï¼Ÿ</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/gradient/linear-gradient()">MDNâ€”CSS linear-gradient()å‡½æ•°</a></p>]]></content>
    
    
    <categories>
      
      <category>CSS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
      <tag>linear-gradient</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
